// Code generated by sqlc. DO NOT EDIT.
// versions:
//   sqlc v1.30.0

package sqlitedb

import (
	"context"
)

type Querier interface {
	//CreateNar
	//
	//  INSERT INTO nars (
	//      narinfo_id, hash, compression, query, file_size
	//  ) VALUES (
	//      ?, ?, ?, ?, ?
	//  )
	//  RETURNING id, narinfo_id, hash, compression, file_size, "query", created_at, updated_at, last_accessed_at
	CreateNar(ctx context.Context, arg CreateNarParams) (Nar, error)
	//CreateNarInfo
	//
	//  INSERT INTO narinfos (
	//      hash
	//  ) VALUES (
	//      ?
	//  )
	//  RETURNING id, hash, created_at, updated_at, last_accessed_at
	CreateNarInfo(ctx context.Context, hash string) (NarInfo, error)
	//DeleteNarByHash
	//
	//  DELETE FROM nars
	//  WHERE hash = ?
	DeleteNarByHash(ctx context.Context, hash string) (int64, error)
	//DeleteNarByID
	//
	//  DELETE FROM nars
	//  WHERE id = ?
	DeleteNarByID(ctx context.Context, id int64) (int64, error)
	//DeleteNarInfoByHash
	//
	//  DELETE FROM narinfos
	//  WHERE hash = ?
	DeleteNarInfoByHash(ctx context.Context, hash string) (int64, error)
	//DeleteNarInfoByID
	//
	//  DELETE FROM narinfos
	//  WHERE id = ?
	DeleteNarInfoByID(ctx context.Context, id int64) (int64, error)
	//GetLeastUsedNars
	//
	//  SELECT n1.id, n1.narinfo_id, n1.hash, n1.compression, n1.file_size, n1."query", n1.created_at, n1.updated_at, n1.last_accessed_at
	//  FROM nars n1
	//  WHERE (
	//      SELECT SUM(n2.file_size)
	//      FROM nars n2
	//      WHERE n2.last_accessed_at <= n1.last_accessed_at
	//  ) <= ?
	GetLeastUsedNars(ctx context.Context, fileSize uint64) ([]Nar, error)
	//GetNarByHash
	//
	//  SELECT id, narinfo_id, hash, compression, file_size, "query", created_at, updated_at, last_accessed_at
	//  FROM nars
	//  WHERE hash = ?
	GetNarByHash(ctx context.Context, hash string) (Nar, error)
	//GetNarByID
	//
	//  SELECT id, narinfo_id, hash, compression, file_size, "query", created_at, updated_at, last_accessed_at
	//  FROM nars
	//  WHERE id = ?
	GetNarByID(ctx context.Context, id int64) (Nar, error)
	//GetNarInfoByHash
	//
	//  SELECT id, hash, created_at, updated_at, last_accessed_at
	//  FROM narinfos
	//  WHERE hash = ?
	GetNarInfoByHash(ctx context.Context, hash string) (NarInfo, error)
	//GetNarInfoByID
	//
	//  SELECT id, hash, created_at, updated_at, last_accessed_at
	//  FROM narinfos
	//  WHERE id = ?
	GetNarInfoByID(ctx context.Context, id int64) (NarInfo, error)
	//GetNarTotalSize
	//
	//  SELECT CAST(COALESCE(SUM(file_size), 0) AS INTEGER) AS total_size
	//  FROM nars
	GetNarTotalSize(ctx context.Context) (int64, error)
	//TouchNar
	//
	//  UPDATE nars
	//  SET
	//      last_accessed_at = CURRENT_TIMESTAMP,
	//      updated_at = CURRENT_TIMESTAMP
	//  WHERE hash = ?
	TouchNar(ctx context.Context, hash string) (int64, error)
	//TouchNarInfo
	//
	//  UPDATE narinfos
	//  SET
	//      last_accessed_at = CURRENT_TIMESTAMP,
	//      updated_at = CURRENT_TIMESTAMP
	//  WHERE hash = ?
	TouchNarInfo(ctx context.Context, hash string) (int64, error)
}

var _ Querier = (*Queries)(nil)
