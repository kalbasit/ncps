# Negative test: PostgreSQL lock without PostgreSQL database
# This should FAIL validation - postgres lock requires postgresql database type
mode: deployment
replicaCount: 3

config:
  hostname: "test.example.com"

  storage:
    type: s3
    s3:
      bucket: my-bucket
      endpoint: https://s3.amazonaws.com
      region: us-east-1
      accessKeyId: test-key
      secretAccessKey: test-secret

  database:
    type: mysql # Wrong database type for postgres lock
    mysql:
      host: mysql.default.svc
      password: test123

  lock:
    backend: postgres # Requires postgresql database

  redis:
    enabled: false

migration:
  mode: job
